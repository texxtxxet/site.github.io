<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>[Page Title]</title>
<style>
    body {
        background-color: #f7fafc;
        font-family: sans-serif;
        margin: 0;
        padding: 0;
    }
    .container {
        max-width: 768px;
        margin: 0 auto;
        padding: 1rem;
    }
    .post, .comment {
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        padding: 1rem;
        margin-bottom: 0.5rem;
    }
    .flex {
        display: flex;
        align-items: center;
    }
    .mb-4 { margin-bottom: 1rem; }
    .mb-3 { margin-bottom: 0.75rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mr-3 { margin-right: 0.5rem; }
    .mr-2 { margin-right: 0.5rem; }
    .space-x-4 > * + * { margin-left: 1rem; }
    .space-x-3 > * + * { margin-left: 0.75rem; }
    .text-blue { color: #2563eb; text-decoration: none; font-weight: 600; }
    .text-blue:hover { text-decoration: underline; }
    .text-gray { color: #6b7280; }
    .text-gray-700 { color: #374151; }
    .font-bold { font-weight: bold; }
    .rounded-full { border-radius: 9999px; }
    .rounded-lg { border-radius: 0.5rem; }
    .p-4 { padding: 1rem; }
    .p-6 { padding: 1.5rem; }
    .w-10 { width: 2.5rem; height: 2.5rem; }
    .w-8 { width: 2rem; height: 2rem; }
    .text-2xl { font-size: 1.5rem; }
    .hover-blue:hover { color: #2563eb; cursor: pointer; }
    .hover-red:hover { color: #dc2626; cursor: pointer; }
    .border-t {
        border-top: 1px solid #e5e7eb;
        padding-top: 0.1rem;
        padding-bottom: 0.1rem;
    }
    .border-l-2 { border-left: 2px solid #e5e7eb; }
    .ml-8 { margin-left: 2rem; }
    .mt-4 { margin-top: 1rem; }
    .pl-4 { padding-left: 1rem; }
    button {
        background: none;
        border: none;
        padding: 0;
        font: inherit;
        cursor: pointer;
        display: flex;
        align-items: center;
        color: inherit;
    }
    svg { width: 1em; height: 1em; }

    /* スライドショー */
    .slideshow {
        margin-top: 1rem;
        position: relative;
        width: 100%;
        max-height: 350px;
        overflow: hidden;
        border-radius: 0.5rem;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    .slide-image, .slide-video {
        width: 100%;
        display: none;
        cursor: pointer;
        user-select: none;
        object-fit: cover;
        max-height: 350px;
    }
    .slide-image.active, .slide-video.active {
        display: block;
    }
    .slide-controls {
        position: absolute;
        top: 50%;
        width: 100%;
        display: flex;
        justify-content: space-between;
        transform: translateY(-50%);
        pointer-events: none;
    }
    .slide-btn {
        background: rgba(0,0,0,0.3);
        border-radius: 50%;
        color: white;
        font-weight: bold;
        width: 2rem;
        height: 2rem;
        line-height: 1.9rem;
        text-align: center;
        cursor: pointer;
        pointer-events: auto;
        user-select: none;
        transition: background-color 0.3s;
    }
    .slide-btn:hover {
        background: rgba(0,0,0,0.6);
    }

    /* モーダル */
    .modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0; top: 0; right: 0; bottom: 0;
        background: rgba(0,0,0,0.8);
        justify-content: center;
        align-items: center;
        cursor: zoom-out;
    }
    .modal.active {
        display: flex;
    }
    .modal-content {
        position: relative;
        max-width: 90vw;
        max-height: 90vh;
        border-radius: 0.5rem;
        box-shadow: 0 0 15px rgba(255,255,255,0.7);
    }
    .modal-content img, .modal-content video {
        max-width: 90vw;
        max-height: 90vh;
        border-radius: 0.5rem;
    }
    .modal-controls {
        position: absolute;
        top: 50%;
        width: 100%;
        display: flex;
        justify-content: space-between;
        transform: translateY(-50%);
        pointer-events: none;
    }
    .modal-btn {
        background: rgba(0,0,0,0.3);
        border-radius: 50%;
        color: white;
        font-weight: bold;
        width: 2rem;
        height: 2rem;
        line-height: 1.9rem;
        text-align: center;
        cursor: pointer;
        pointer-events: auto;
        user-select: none;
        transition: background-color 0.3s;
    }
    .modal-btn:hover {
        background: rgba(0,0,0,0.6);
    }
</style>
</head>
<body>
<div class="container">

    <!-- 投稿本文 -->
    <div class="post">
        <p><a href="[Post URL]" class="text-blue">URL</a></p>
        <p class="text-gray-700 mb-4">[Post Title]Jeon Jong Seo - Burning (2018)</p>
        <div class="slideshow">
            <img src="[Image URL 1]" alt="Image 1" class="slide-image active" />
            <video src="reddit-jeon-jong-seo-250614.mp4" class="slide-video active" muted loop></video>
            <div class="slide-controls">
                <div class="slide-btn" id="prevBtn"><</div>
                <div class="slide-btn" id="nextBtn">></div>
            </div>
        </div>
    </div>

    <!-- コメント -->
    <div class="post border-t pt-4">
        <p class="text-gray-700 mb-3">[Comment Text 1]<br>
<span style="color: #ff0000; font-size: 13px">[Translated Text 1]</span></p>
        <!-- ネストされたコメント -->
        <div class="ml-8 mt-4 border-l-2 pl-4">
            <p class="text-gray-700 mb-3">[Nested Comment Text 1]<br>
<span style="color: #ff0000; font-size: 13px">[Translated Nested Text 1]</span></p>
        </div>
    </div>

    <!-- コメント -->
    <div class="post border-t pt-4">
        <p class="text-gray-700 mb-3">[Comment Text 1]<br>
<span style="color: #ff0000; font-size: 13px">[Translated Text 1]</span></p>
        <!-- ネストされたコメント -->
        <div class="ml-8 mt-4 border-l-2 pl-4">
            <p class="text-gray-700 mb-3">[Nested Comment Text 1]<br>
<span style="color: #ff0000; font-size: 13px">[Translated Nested Text 1]</span></p>
        </div>
    </div>


</div>

<!-- モーダル -->
<div class="modal" id="modal">
    <div class="modal-content" id="modalContent">
        <img src="" alt="Expanded Image" id="modalImage" style="display: none;" />
        <video id="modalVideo" style="display: none;" controls loop></video>
        <div class="modal-controls">
            <div class="modal-btn" id="prevBtnModal"><</div>
            <div class="modal-btn" id="nextBtnModal">></div>
        </div>
    </div>
</div>

<script>
    const slides = document.querySelectorAll('.slide-image, .slide-video');
    let currentIndex = 0;
    const modal = document.getElementById('modal');
    const modalContent = document.getElementById('modalContent');
    const modalImage = document.getElementById('modalImage');
    const modalVideo = document.getElementById('modalVideo');

    // スライドショーの表示切り替え
    const showSlide = (index) => {
        slides.forEach((slide, i) => {
            slide.classList.toggle('active', i === index);
            if (slide.tagName === 'VIDEO' && i === index) {
                slide.play();
            } else if (slide.tagName === 'VIDEO') {
                slide.pause();
                slide.currentTime = 0;
            }
        });
    };

    // モーダルのコンテンツ更新
    const updateModalContent = (index) => {
        modalImage.style.display = 'none';
        modalVideo.style.display = 'none';
        const slide = slides[index];
        if (slide.tagName === 'IMG') {
            modalImage.src = slide.src;
            modalImage.style.display = 'block';
        } else if (slide.tagName === 'VIDEO') {
            modalVideo.src = slide.src;
            modalVideo.style.display = 'block';
            modalVideo.play();
        }
    };

    // 前ボタンのイベントリスナー（スライドショー）
    document.getElementById('prevBtn').addEventListener('click', () => {
        currentIndex = (currentIndex - 1 + slides.length) % slides.length;
        showSlide(currentIndex);
        if (modal.classList.contains('active')) {
            updateModalContent(currentIndex);
        }
    });

    // 次ボタンのイベントリスナー（スライドショー）
    document.getElementById('nextBtn').addEventListener('click', () => {
        currentIndex = (currentIndex + 1) % slides.length;
        showSlide(currentIndex);
        if (modal.classList.contains('active')) {
            updateModalContent(currentIndex);
        }
    });

    // 画像・動画クリックでモーダル表示
    slides.forEach(slide => {
        slide.addEventListener('click', () => {
            currentIndex = Array.from(slides).indexOf(slide);
            updateModalContent(currentIndex);
            modal.classList.add('active');
        });
    });

    // モーダル内前ボタン
    document.getElementById('prevBtnModal').addEventListener('click', (e) => {
        e.stopPropagation();
        currentIndex = (currentIndex - 1 + slides.length) % slides.length;
        showSlide(currentIndex);
        updateModalContent(currentIndex);
    });

    // モーダル内次ボタン
    document.getElementById('nextBtnModal').addEventListener('click', (e) => {
        e.stopPropagation();
        currentIndex = (currentIndex + 1) % slides.length;
        showSlide(currentIndex);
        updateModalContent(currentIndex);
    });

    // モーダル外クリックで閉じる
    modal.addEventListener('click', (e) => {
        if (e.target === modal || e.target === modalContent) {
            modal.classList.remove('active');
            if (modalVideo.style.display !== 'none') {
                modalVideo.pause();
                modalVideo.currentTime = 0;
            }
        }
    });

    // キーボード操作
    document.addEventListener('keydown', (e) => {
        if (modal.classList.contains('active')) {
            if (e.key === 'ArrowLeft') {
                currentIndex = (currentIndex - 1 + slides.length) % slides.length;
                showSlide(currentIndex);
                updateModalContent(currentIndex);
            } else if (e.key === 'ArrowRight') {
                currentIndex = (currentIndex + 1) % slides.length;
                showSlide(currentIndex);
                updateModalContent(currentIndex);
            }
        }
    });
</script>
</body>
</html>
